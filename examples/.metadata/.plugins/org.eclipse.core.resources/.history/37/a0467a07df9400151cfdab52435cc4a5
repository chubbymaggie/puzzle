import 'fsmFamily.melange'

features{
	
	languagefeature StateMachines {
		languagemodule CoreFSMRTC
	}

	abstract languagefeature TransitionsDef {	
		children {
			optional Effect
			mandatory Trigger
		}
	}
	
	languagefeature Effect {
		languagemodule TransitionEffect
	}
	
	languagefeature Trigger {
		languagemodule SimpleTrigger
		children {
			or(AndTrigger,OrTrigger)
		}
	}
	
	languagefeature AndTrigger {
		languagemodule AndTrigger
	}
	
	languagefeature OrTrigger {
		languagemodule OrTrigger
	}
	
	root StateMachines
}

variationpoints {
	variationpoint EventsDispatchingPolicy involves StateMachines {
		variation RTC {
			languagemodule CoreFSMRTC
		},
		variation SimultaneousEvetns {
			languagemodule CoreFSMSimultaneous
		}
	}
}

