package fr.inria.diverse.melange.ui.vos

class AbstractCompositionTreeNode {

	// -------------------------------------------------
	// Attributes
	// -------------------------------------------------
	
	public CompositionGraph graph
	
	// -------------------------------------------------
	// Constructor
	// -------------------------------------------------
	
	new(CompositionGraph graph){
		this.graph = graph
	}
	
	// -------------------------------------------------
	// Methods
	// -------------------------------------------------
	
	def boolean existsDependency(CompositionTreeLeaf node){
		if(this instanceof CompositionTreeLeaf){
			var CompositionTreeLeaf thisLeaf = this as CompositionTreeLeaf
			if(graph.depends(thisLeaf.language, node.language))
				return true
			else
				return false
		}else if(this instanceof CompositionTreeNode){
			var CompositionTreeNode thisNode = this as CompositionTreeNode
			return thisNode._requiring.existsDependency(node) || thisNode._providing.existsDependency(node)
		}
		return false
	}
}